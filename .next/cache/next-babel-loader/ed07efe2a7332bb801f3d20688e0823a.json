{"ast":null,"code":"var _jsxFileName = \"C:\\\\mydailystatus\\\\lib\\\\AuthContext.js\";\nvar __jsx = React.createElement;\nimport React, { createContext, useEffect, useState, useContext } from 'react';\nimport fetch from 'isomorphic-fetch';\nexport const AuthContext = createContext();\nexport const AuthProvider = ({\n  children\n}) => {\n  const {\n    0: user,\n    1: setUser\n  } = useState({});\n  const {\n    0: isAuthReady,\n    1: setAuthReady\n  } = useState(false);\n  useEffect(() => {\n    const getMe = async () => {\n      const res = await fetch('/api/me');\n      const authUser = await res.json();\n      setUser(authUser);\n      setAuthReady(true);\n    };\n\n    getMe();\n  }, []);\n  return __jsx(AuthContext.Provider, {\n    value: {\n      user,\n      isAuthReady,\n      isAuth: !user.error\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }\n  }, children);\n};\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};","map":{"version":3,"sources":["C:/mydailystatus/lib/AuthContext.js"],"names":["React","createContext","useEffect","useState","useContext","fetch","AuthContext","AuthProvider","children","user","setUser","isAuthReady","setAuthReady","getMe","res","authUser","json","isAuth","error","useAuth"],"mappings":";;AACA,OAAOA,KAAP,IAAeC,aAAf,EAA8BC,SAA9B,EAAyCC,QAAzC,EAAmDC,UAAnD,QAAoE,OAApE;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AAEA,OAAO,MAAMC,WAAW,GAAGL,aAAa,EAAjC;AACP,OAAO,MAAMM,YAAY,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgB;AACxC,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAA,OAACQ,WAAD;AAAA,OAAcC;AAAd,MAA8BT,QAAQ,CAAC,KAAD,CAA5C;AACAD,EAAAA,SAAS,CAAE,MAAM;AACb,UAAMW,KAAK,GAAG,YAAY;AACtB,YAAMC,GAAG,GAAG,MAAMT,KAAK,CAAC,SAAD,CAAvB;AACA,YAAMU,QAAQ,GAAG,MAAMD,GAAG,CAACE,IAAJ,EAAvB;AACAN,MAAAA,OAAO,CAACK,QAAD,CAAP;AACAH,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACH,KALD;;AAMAC,IAAAA,KAAK;AACR,GARQ,EAQN,EARM,CAAT;AASA,SACI,MAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAACJ,MAAAA,IAAD;AAAOE,MAAAA,WAAP;AAAoBM,MAAAA,MAAM,EAAE,CAACR,IAAI,CAACS;AAAlC,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGV,QADH,CADJ;AAKH,CAjBM;AAkBP,OAAO,MAAMW,OAAO,GAAG,MAAM;AACzB,SAAOf,UAAU,CAACE,WAAD,CAAjB;AACH,CAFM","sourcesContent":["\r\nimport React, {createContext, useEffect, useState, useContext} from 'react'\r\nimport fetch from 'isomorphic-fetch'\r\n\r\nexport const AuthContext = createContext()\r\nexport const AuthProvider = ({children}) => {\r\n    const [user, setUser] = useState({})\r\n    const [isAuthReady, setAuthReady] = useState(false)\r\n    useEffect( () => {\r\n        const getMe = async () => {\r\n            const res = await fetch('/api/me')\r\n            const authUser = await res.json()\r\n            setUser(authUser)\r\n            setAuthReady(true)\r\n        }\r\n        getMe()\r\n    }, [])\r\n    return(\r\n        <AuthContext.Provider value={{user, isAuthReady, isAuth: !user.error}}>\r\n          {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\nexport const useAuth = () => {\r\n    return useContext(AuthContext)\r\n}"]},"metadata":{},"sourceType":"module"}